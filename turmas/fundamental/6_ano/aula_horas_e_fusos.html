<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telling the Time & Time Zones - 6¬∫ Ano</title>
    <link rel="stylesheet" href="../../../css/estilo-premium.css">

    <style>
        .conteudo-aula { background-color: #fff; padding: 25px 30px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }

        /* --- PARTE 1: DESAFIO DO RELOJOEIRO --- */
        .relojoeiro-container { display: flex; flex-wrap: wrap; align-items: center; justify-content: center; gap: 40px; margin-top: 20px; padding: 20px; background-color: #f0f8ff; border-radius: 10px; }
        .relogio-analogico { width: 200px; height: 200px; border: 8px solid #333; border-radius: 50%; position: relative; background-color: white; }
        .ponteiro { position: absolute; bottom: 50%; left: 50%; transform-origin: bottom; background-color: #333; }
        .ponteiro.horas { width: 6px; height: 50px; transform: translateX(-50%) rotate(0deg); }
        .ponteiro.minutos { width: 4px; height: 75px; transform: translateX(-50%) rotate(0deg); }
        .centro-relogio { position: absolute; top: 50%; left: 50%; width: 12px; height: 12px; background-color: #333; border-radius: 50%; transform: translate(-50%, -50%); }
        .opcoes-horas { display: flex; flex-direction: column; gap: 10px; }
        .opcoes-horas button { padding: 12px 20px; font-size: 1.1em; cursor: pointer; border: 2px solid #005a8d; border-radius: 5px; background-color: white; transition: background-color 0.3s; }
        .opcoes-horas button:hover { background-color: #e6f7ff; }
        .feedback-relogio { width: 100%; text-align: center; font-size: 1.3em; font-weight: bold; min-height: 30px; }

        /* --- PARTE 2: EXPLORADOR DO TEMPO --- */
        .mapa-container { position: relative; margin-top: 30px; }
        .mapa-container img { width: 100%; height: auto; border-radius: 10px; }
        .ponto-cidade { position: absolute; width: 20px; height: 20px; background-color: red; border-radius: 50%; border: 2px solid white; cursor: pointer; transition: transform 0.2s; z-index: 10; }
        .ponto-cidade:hover { transform: scale(1.5); }
        /* Posi√ß√µes das cidades no mapa (ajuste se necess√°rio) */
#ponto-sp { top: 70%; left: 35%; }
#ponto-ny { top: 40%; left: 28%; }
#ponto-lon { top: 35%; left: 48%; }
#ponto-tk { top: 42%; left: 85%; }
        .info-cidade { background-color: #fff; padding: 20px; border: 2px solid #005a8d; border-radius: 10px; text-align: center; }
        .info-cidade h3 { margin-top: 0; }
        .hora-digital { font-size: 2em; font-weight: bold; }

        /* --- ATIVIDADE B√îNUS: SOL E LUA --- */
        .visualizador-dia-noite { margin-top: 20px; padding: 20px; background-color: #f3f3f3; border-radius: 10px; }
        .barra-tempo { width: 100%; height: 50px; background: linear-gradient(to right, #2c3e50, #4e7ac7, #f1c40f, #f39c12, #4e7ac7, #2c3e50); border-radius: 10px; position: relative; }
        .icones-sol-lua { font-size: 24px; position: absolute; top: -30px; width: 100%; display: flex; justify-content: space-between; }
        .marcador-cidade { position: absolute; top: -10px; width: 3px; height: 70px; background-color: red; transform: translateX(-50%); transition: left 0.5s ease; color: red; font-weight: bold; text-align: center; }
        .marcador-cidade span { background: white; padding: 2px 5px; border-radius: 4px; border: 1px solid red; }
    </style>
</head>
<body>
    <header class="cabecalho">
        <h1>Telling the Time & Time Zones</h1>
        <p>Vamos aprender a ver as horas e explorar o mundo!</p>
    </header>

    <main class="container">
        <a href="index.html" class="botao-voltar">&larr; Voltar para a lista do 6¬∫ Ano</a>
        <div class="conteudo-aula">
            
            <section>
                <h2>Parte 1: O Desafio do Relojoeiro</h2>
                <p>Observe o rel√≥gio e clique na resposta correta. What time is it?</p>
                <div class="relojoeiro-container">
                    <div class="relogio-analogico" id="relogio-desafio">
                        <div class="ponteiro horas" id="ponteiro-h"></div>
                        <div class="ponteiro minutos" id="ponteiro-m"></div>
                        <div class="centro-relogio"></div>
                    </div>
                    <div class="opcoes-horas" id="opcoes-desafio"></div>
                    <div class="feedback-relogio" id="feedback-desafio"></div>
                </div>
            </section>

            <hr>

            <section>
                <h2>Parte 2: O Explorador do Tempo</h2>
                <p>A hora n√£o √© a mesma em todos os lugares! Clique nos pontos vermelhos no mapa para descobrir a hora em diferentes cidades.</p>
                
                <div class="info-cidade" id="info-cidade-display">
                    <h3>Selecione uma cidade no mapa</h3>
                    <p>A hora local em S√£o Paulo √© aproximadamente <strong><span id="hora-local"></span></strong>.</p>
                </div>

                <div class="mapa-container">
                    <img src="../../../imagens/mapa_mundi.png" alt="Mapa do Mundo">
                    <div id="ponto-sp" class="ponto-cidade" data-cidade="sao-paulo"></div>
                    <div id="ponto-ny" class="ponto-cidade" data-cidade="nova-iorque"></div>
                    <div id="ponto-lon" class="ponto-cidade" data-cidade="londres"></div>
                    <div id="ponto-tk" class="ponto-cidade" data-cidade="toquio"></div>
                </div>
            </section>
            
            <hr>

            <section>
                <h2>Atividade B√¥nus: Sol e Lua Pelo Mundo</h2>
                <p>Veja onde √© dia ou noite! A barra abaixo representa as 24 horas. Depois de clicar em uma cidade no mapa, veja onde ela aparece aqui.</p>
                <div class="visualizador-dia-noite">
                    <div class="barra-tempo">
                        <div class="icones-sol-lua"><span>üåô (0h)</span><span>‚òÄÔ∏è (12h)</span><span>üåô (24h)</span></div>
                        <div id="marcador" class="marcador-cidade" style="display: none;">
                            <span id="marcador-texto"></span>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="rodape">
        <p>Desenvolvido pelo Professor Andr√© Rosa Lopes</p>
    </footer>

    <script>
        // --- L√ìGICA PARTE 1: DESAFIO DO RELOJOEIRO ---
        const desafiosRelogio = [
            { h: 3, m: 0, opcoes: ["It's three o'clock", "It's half past three", "It's twelve o'clock"], correta: 0 },
            { h: 9, m: 30, opcoes: ["It's nine o'clock", "It's half past nine", "It's a quarter to nine"], correta: 1 },
            { h: 7, m: 15, opcoes: ["It's a quarter to seven", "It's seven minutes past fifteen", "It's a quarter past seven"], correta: 2 },
            { h: 10, m: 45, opcoes: ["It's ten past forty-five", "It's a quarter to eleven", "It's half past ten"], correta: 1 }
        ];
        let desafioAtual = 0;
        const ponteiroH = document.getElementById('ponteiro-h');
        const ponteiroM = document.getElementById('ponteiro-m');
        const opcoesContainer = document.getElementById('opcoes-desafio');
        const feedbackEl = document.getElementById('feedback-desafio');

        function carregarDesafio(index) {
            const desafio = desafiosRelogio[index];
            const rotM = desafio.m * 6;
            const rotH = (desafio.h % 12) * 30 + desafio.m * 0.5;
            ponteiroH.style.transform = `translateX(-50%) rotate(${rotH}deg)`;
            ponteiroM.style.transform = `translateX(-50%) rotate(${rotM}deg)`;
            opcoesContainer.innerHTML = '';
            desafio.opcoes.forEach((opcao, i) => {
                const botao = document.createElement('button');
                botao.textContent = opcao;
                botao.onclick = () => verificarResposta(i === desafio.correta);
                opcoesContainer.appendChild(botao);
            });
            feedbackEl.textContent = '';
        }

        function verificarResposta(acertou) {
            if (acertou) {
                feedbackEl.textContent = 'Correct! Well done! ‚úÖ';
                feedbackEl.style.color = 'green';
                setTimeout(() => {
                    desafioAtual = (desafioAtual + 1) % desafiosRelogio.length;
                    carregarDesafio(desafioAtual);
                }, 2000);
            } else {
                feedbackEl.textContent = 'Almost! Try again. ‚ùå';
                feedbackEl.style.color = 'red';
            }
        }
        
        // --- L√ìGICA PARTE 2 e B√îNUS ---
        const displayInfo = document.getElementById('info-cidade-display');
        const horaLocalEl = document.getElementById('hora-local');
        const marcador = document.getElementById('marcador');
        const marcadorTexto = document.getElementById('marcador-texto');

        const agoraSP = new Date();
        agoraSP.setHours(10, 0, 0);
        
        const formatarHora = (date) => date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true });
        horaLocalEl.textContent = formatarHora(agoraSP);

        const dadosCidades = {
            'sao-paulo': { nome: 'S√£o Paulo', offset: 0, elem: document.getElementById('ponto-sp') },
            'nova-iorque': { nome: 'New York', offset: -2, elem: document.getElementById('ponto-ny') },
            'londres': { nome: 'London', offset: 4, elem: document.getElementById('ponto-lon') },
            'toquio': { nome: 'Tokyo', offset: 12, elem: document.getElementById('ponto-tk') }
        };

        Object.values(dadosCidades).forEach(cidade => {
            cidade.elem.addEventListener('click', () => {
                const horaCidade = new Date(agoraSP.getTime() + cidade.offset * 60 * 60 * 1000);
                const h = horaCidade.getHours();
                const m = horaCidade.getMinutes();
                const rotM = m * 6;
                const rotH = (h % 12) * 30 + m * 0.5;
                
                // Atualiza o display da cidade
                displayInfo.innerHTML = `
                    <h3>${cidade.nome}, ${cidade.offset === 0 ? 'Brazil' : (cidade.offset === -2 ? 'USA' : (cidade.offset === 4 ? 'UK' : 'Japan'))}</h3>
                    <div class="relogio-analogico" style="margin: 10px auto;">
                        <div class="ponteiro horas" style="transform: translateX(-50%) rotate(${rotH}deg);"></div>
                        <div class="ponteiro minutos" style="transform: translateX(-50%) rotate(${rotM}deg);"></div>
                        <div class="centro-relogio"></div>
                    </div>
                    <div class="hora-digital">${formatarHora(horaCidade)}</div>
                `;

                // ATUALIZA O VISUALIZADOR SOL E LUA
                const horaTotal = h + m / 60;
                const porcentagemDoDia = (horaTotal / 24) * 100;
                marcador.style.left = `${porcentagemDoDia}%`;
                marcadorTexto.textContent = cidade.nome;
                marcador.style.display = 'block';
            });
        });
        
        carregarDesafio(desafioAtual);
    </script>
</body>
</html>